KJE.Default.FREQ_WEEKLY=0;KJE.Default.FREQ_EVERYOTHER=1;KJE.Default.FREQ_2XMONTHLY=2;KJE.Default.FREQ_MONTHLY=3;KJE.Default.FREQ_QUARTERLY=4;KJE.Default.FREQ_SEMIANNUAL=5;KJE.Default.FREQ_ANNUAL=6;KJE.Default.FREQUENCY_INDEXES=[KJE.Default.FREQ_WEEKLY,KJE.Default.FREQ_EVERYOTHER,KJE.Default.FREQ_2XMONTHLY,KJE.Default.FREQ_MONTHLY,KJE.Default.FREQ_QUARTERLY,KJE.Default.FREQ_SEMIANNUAL,KJE.Default.FREQ_ANNUAL];KJE.Default.FREQUENCY_TYPES=KJE.parameters.get("ARRAY_FREQUENCY_TYPES",["weekly","every other week","twice monthly","monthly","quarterly","semi-annual","annual"]);KJE.Default.FREQUENCY_TYPES_CAP=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_CAP",["Weekly","Every other week","Twice monthly","Monthly","Quarterly","Semi-annual","Annual"]);KJE.Default.FREQUENCY_TYPES_LBL=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_LBL",["week","payment","payment","month","quarter","payment","annual payment"]);KJE.Default.FREQUENCY_TYPES_LBL_PLURAL=KJE.parameters.get("ARRAY_FREQUENCY_TYPES_LBL_PLURAL",["weeks","payments","payments","months","quarters","payments","annual payments"]);KJE.Default.FREQUENCY_ANNUAL_PERIODS=[52,26,24,12,4,2,1];KJE.Default.TaxRate=25;KJE.Default.TaxRateRetire=15;KJE.Default.TaxRateCapGain=15;KJE.Default.StateTaxRate=8;KJE.Default.IncomeTaxTableTaxYear="Use the table below to assist you in estimating your federal tax rate.<div class='KJEReportTableDiv'><table class='KJEReportTable KJEReportTableShrink'><caption class='KJEHeaderRow KJEHeading'>Filing Status and Income Tax Rates 2017<sup>*</sup></caption><thead><tr class=KJEFooterRow><th class='KJEColumnHeader'>Tax Rate</th><th class='KJEColumnHeader KJECell225'>Married Filing Jointly or Qualified Widow(er)</th><th class='KJEColumnHeader KJECell225'>Single</th><th class='KJEColumnHeader KJECell225'>Head of Household</th><th class='KJEColumnHeader KJECell225'>Married Filing Separately</th></tr></thead><tr class='KJEOddRow'><th class='KJELabel KJECellBorder KJELabelPad'>10%</th><td class='KJECell KJECellBorder'>$0 -&nbsp;$18,650</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$9,325</td><td class='KJECell KJECellBorder'>$0 -&nbsp;$13,350</td><td class='KJECell'>$0 -&nbsp;$9,325</td></tr><tr class='KJEEvenRow'><th class='KJELabel KJECellBorder KJELabelPad'>15%</th><td class='KJECell KJECellBorder'>$18,650 -&nbsp;$75,900</td><td class='KJECell KJECellBorder'>$9,325 -&nbsp;$37,950</td><td class='KJECell KJECellBorder'>$13,350 -&nbsp;$50,800</td><td class='KJECell'>$9,325 -&nbsp;$37,950</td></tr><tr class='KJEOddRow'><th class='KJELabel KJECellBorder KJELabelPad'>25%</th><td class='KJECell KJECellBorder'>$75,900 -&nbsp;$153,100</td><td class='KJECell KJECellBorder'>$37,950 -&nbsp;$91,900</td><td class='KJECell KJECellBorder'>$50,800 -&nbsp;$131,200</td><td class='KJECell'>$37,950 -&nbsp;$76,550</td></tr><tr class='KJEEvenRow'><th class='KJELabel KJECellBorder KJELabelPad'>28%</th><td class='KJECell KJECellBorder'>$153,100 -&nbsp;$233,350</td><td class='KJECell KJECellBorder'>$91,900 -&nbsp;$191,650</td><td class='KJECell KJECellBorder'>$131,200 -&nbsp;$212,500</td><td class='KJECell'>$76,550 -&nbsp;$116,675</td></tr><tr class='KJEOddRow'><th class='KJELabel KJECellBorder KJELabelPad'>33%</th><td class='KJECell KJECellBorder'>$233,350 -&nbsp;$416,700</td><td class='KJECell KJECellBorder'>$191,650 -&nbsp;$416,700</td><td class='KJECell KJECellBorder'>$212,500 -&nbsp;$416,700</td><td class='KJECell'>$116,675 -&nbsp;$208,350</td></tr><tr class='KJEEvenRow'><th class='KJELabel KJECellBorder KJELabelPad'>35%</th><td class='KJECell KJECellBorder'>$416,700 -&nbsp;$470,700</td><td class='KJECell KJECellBorder'>$416,700 -&nbsp;$418,400</td><td class='KJECell KJECellBorder'>$416,700 -&nbsp;$444,550</td><td class='KJECell'>$208,350 -&nbsp;$235,350</td></tr><tr class='KJEOddRow'><th class='KJELabel KJECellBorder KJELabelPad'>39.6%</th><td class='KJECell KJECellBorder'>Over $470,700</td><td class='KJECell KJECellBorder'>Over $418,400</td><td class='KJECell KJECellBorder'>Over $444,550</td><td class='KJECell'>Over $235,350</td></tr><tr class=KJEFooterRow><td class='KJEFooter KJELabelPad' COLSPAN='5' ><div align=center><sup>*</sup>Caution: Do not use these tax rate schedules to figure 2016 taxes. Use only to figure 2017 estimates. Source: Rev. Proc. 2016-55</div></td></tr></table></div>";KJE.Default.IncomeTaxTableCurrent=KJE.Default.IncomeTaxTableTaxYear;KJE.Default.StandardDeductionTaxYear="<div class='KJEReportTableDiv'><table class='KJEReportTable'><caption class='KJEHeaderRow KJEHeading'>Standard Deduction for 2017 Federal Income Tax</caption><thead><tr class=KJEFooterRow><th class='KJEColumnHeader KJECell60'>Filing Status</th><th class='KJEColumnHeader KJECell40'>Standard Deduction</th></tr></thead><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>Married Filing Joint</td><td class='KJECell'>$12,700</td></tr><tr class='KJEEvenRow'><td class='KJELabel KJECellBorder KJELabelPad'>Qualified Widow(er)</td><td class='KJECell'>$12,700</td></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>Single</td><td class='KJECell'>$6,350</td></tr><tr class='KJEEvenRow'><td class='KJELabel KJECellBorder KJELabelPad'>Heads of Household</td><td class='KJECell'>$9,350</td></tr><tr class='KJEOddRow'><td class='KJELabel KJECellBorder KJELabelPad'>Married Filing Separately</td><td class='KJECell'>$6,350</td></tr></table></div>";KJE.Default.StandardDeductionCurrent=KJE.Default.StandardDeductionTaxYear;KJE.definitions.set("**TAXTABLE_CURRENT_DEFINITION**",KJE.Default.IncomeTaxTableCurrent);KJE.definitions.set("**TAXTABLE_TAXYEAR_DEFINITION**",KJE.Default.IncomeTaxTableTaxYear);KJE.definitions.set("**STANDARDDEDUCTION_CURRENT_DEFINITION**",KJE.Default.StandardDeductionCurrent);KJE.definitions.set("**STANDARDDEDUCTION_TAXYEAR_DEFINITION**",KJE.Default.StandardDeductionTaxYear);KJE.InvestmentAccountCalc=function(){this.MSG_WITHDRAW_RESULT_DESC=KJE.parameters.get("MSG_WITHDRAW_RESULT_DESC","A distribution of WITHDRAW_AMOUNT_CALC WITHDRAW_FREQUENCY runs out in WITHDRAW_LENGTH_DESC.");this.WITHDRAW_RESULT_DESC="";this.INFLATION_PER_PERIOD=false;this.WITHDRAW_YEARS_TXT=null;this.WITHDRAW_RUNOUT_YEARS=0;this.WITHDRAW_RUNOUT_PERIODS=0;this.WITHDRAW_RUNOUT_FRACTION=0;this.MAX_WITHDRAW_YEARS=100;this.MSG_PLUS=KJE.parameters.get("MSG_PLUS","plus");this.MSG_PERIOD=KJE.parameters.get("MSG_PERIOD","payment");this.MSG_PERIODS=KJE.parameters.get("MSG_PERIODS","payments");this.WITHDRAW_LENGTH_DESC="";this.MSG_EXTRA_NOTE="";this.MSG_CONTRIB_ADJUST_FOR_INFLATION=KJE.parameters.get("MSG_CONTRIB_ADJUST_FOR_INFLATION","Your contributions were increased annually at a projected MSG_INFLATION annual rate of inflation.");this.MSG_WITHDRAW_ADJUST_FOR_INFLATION=KJE.parameters.get("MSG_WITHDRAW_ADJUST_FOR_INFLATION","Your withdrawals were increased annually at a projected MSG_INFLATION rate of inflation.");this.MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS=KJE.parameters.get("MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS","In today's dollars your withdrawal would be WITHDRAW_AMOUNT_CALC. To have the same purchasing power, after CONTRIB_TOTAL_YEARS years of inflation during your contribution phase, your first withdrawal will actually be WITHDRAW_AMOUNT.");this.iDecimal=KJE.parameters.get("DECIMALS",2);this.IRA_MAXIMUMS=[5500,5500,5500,5500];this.IRA_MAXIMUMS_CATCHUP=1000;this.IRA_CATCHUP_AGE_START=50;this.CONTRIB_BEGIN_PERIOD=true;this.WITHDRAW_BEGIN_PERIOD=true;this.WITHDRAW_STARTING_BALANCE=0;this.WITHDRAW_ANNUAL_ROR_ATAX=0;this.WITHDRAW_YEARS=0;this.WITHDRAW_TYPE=KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE;this.CONTRIB_TAX_RATE=0;this.CONTRIB_YEARS=0;this.CONTRIB_ADJUST_FOR_INFLATION=false;this.CONTRIB_AMOUNT=0;this.CONTRIB_FREQUENCY=KJE.Default.FREQ_MONTHLY;this.CONTRIB_ANNUAL_ROR=0;this.CURRENT_AGE=0;this.WITHDRAW_TAX_RATE=0;this.CONTRIBUTE_TO_MAXIMUM=false;this.WITHDRAW_FREQUENCY=KJE.Default.FREQ_ANNUAL;this.WITHDRAW_ADJUST_FOR_INFLATION=false;this.WITHDRAW_ADJUST_FOR_TAXES=false;this.INFLATION_RATE=0;this.CONTRIB_STARTING_BALANCE=0;this.CONTRIB_YEARS_TO_START=0;this.CONTRIB_YEARS_TO_END=0;this.WITHDRAW_AMOUNT=0;this.WITHDRAW_ANNUAL_ROR=0;this.WITHDRAW_REQUIRED_REMAINING_BALANCE=0;this.WITHDRAW_PERSERVATION_PERCENT=0;this.WITHDRAW_RUNOUT=0;this.DS_STARTING_BAL=null;this.DS_CONTRIBUTIONS=null;this.DS_WITHDRAWALS=null;this.DS_EARNINGS=null;this.DS_ENDING_BAL=null;this.DF_BALANCE=null;this.DF_STARTING_BAL=null;this.DF_CONTRIBUTIONS=null;this.DF_WITHDRAWALS=null;this.DF_EARNINGS=null;this.cats=null;this.CURRENT_YEAR=KJE.parameters.get("CURRENT_YEAR",1);this.ADVANCED_COUNT=KJE.parameters.get("ADVANCED_COUNT",0);if(this.ADVANCED_COUNT>0){this.ADVANCED_AMOUNT=KJE.FloatArray(this.ADVANCED_COUNT);this.ADVANCED_YEAR_START=KJE.IntArray(this.ADVANCED_COUNT);this.ADVANCED_YEAR_END=KJE.IntArray(this.ADVANCED_COUNT);this.ADVANCED_TABLE_ROW=KJE.parameters.get("ADVANCED_TABLE_ROW","<tr class=**ROWCLASS**><td class='KJELabel KJECellBorder'>Additional withdrawal(-) or deposit(+) #ADVANCED_TABLE_ROW</td><td class='KJECell'>ADVANCED_TABLE_CONTENT</td></tr>");this.ADVANCED_TABLE_CONTENT2=KJE.parameters.get("ADVANCED_TABLE_CONTENT2","ADVANCED_AMOUNT annually from ADVANCED_YEAR_START to ADVANCED_YEAR_END");this.ADVANCED_TABLE_CONTENT1=KJE.parameters.get("ADVANCED_TABLE_CONTENT1","ADVANCED_AMOUNT in ADVANCED_YEAR_START");this.sRowClass=KJE.parameters.get("ADVANCED_TABLE_ROW_CLASS","KJEEvenRow")}this.sSchedule=new KJE.Repeating()};KJE.InvestmentAccountCalc.prototype.clear=function(){this.ACCOUNT_TYPE=KJE.InvestmentAccountCalc.ACCT_OTHER;this.ACCOUNT_NAME="";this.ACCOUNT_SHORT_NAME="";this.WITHDRAW_PRESERVE_AMOUNT=0};KJE.InvestmentAccountCalc.prototype.calculate=function(M){var b=KJE;var e=false;var p=this.CURRENT_AGE;var q=this.INFLATION_RATE;var s=this.ACCOUNT_TYPE;var o=this.CONTRIBUTE_TO_MAXIMUM;var C=this.ACCOUNT_NAME;var E=this.ACCOUNT_SHORT_NAME;var U=this.CONTRIB_STARTING_BALANCE;var g=this.CONTRIB_AMOUNT;var t=KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.CONTRIB_FREQUENCY];var ab=this.CONTRIB_ADJUST_FOR_INFLATION;var V=this.CONTRIB_TAX_RATE;var z=this.CONTRIB_ANNUAL_ROR;var B=this.CONTRIB_YEARS;var Q=this.CONTRIB_YEARS_TO_START;var u=this.CONTRIB_YEARS_TO_END;var v=this.WITHDRAW_YEARS;var x=this.WITHDRAW_TAX_RATE;var H=this.WITHDRAW_TYPE;var r=this.WITHDRAW_AMOUNT;var A=KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY];var w=this.WITHDRAW_ANNUAL_ROR;var n=this.WITHDRAW_PERSERVATION_PERCENT;var J=this.WITHDRAW_ADJUST_FOR_INFLATION;var c=this.WITHDRAW_ADJUST_FOR_TAXES;this.WITHDRAW_AMOUNT_TODAY=r;this.TOTAL_INTEREST=0;this.CONTRIB_TOTAL_INTEREST=0;this.CONTRIB_TOTAL_CONTRIBUTIONS=0;this.WITHDRAW_ENDING_BALANCE=0;this.WITHDRAW_TOTAL_INTEREST=0;this.WITHDRAW_TOTAL_WITHDRAWALS=0;this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX=0;var I=r;for(var aa=0;aa<this.ADVANCED_COUNT;aa++){if(this.ADVANCED_AMOUNT[aa]==0){this.ADVANCED_YEAR_START[aa]=0;this.ADVANCED_YEAR_END[aa]=0}else{if(this.ADVANCED_YEAR_START[aa]<this.CURRENT_YEAR){this.ADVANCED_YEAR_START[aa]=this.CURRENT_YEAR}if(this.ADVANCED_YEAR_END[aa]<this.ADVANCED_YEAR_START[aa]){this.ADVANCED_YEAR_END[aa]=this.ADVANCED_YEAR_START[aa]}}}this.WITHDRAW_YEARS_TXT=null;var F=false;if(v==-1){v=this.MAX_WITHDRAW_YEARS;F=true}var f=KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[s];this.CONTRIB_TAXABLE_INTEREST=f[0];this.CONTRIB_TAXABLE_DEPOSITS=f[1];this.WITHDRAW_TAXABLE_INTEREST=f[2];this.WITHDRAW_TAXABLE_WITHDRAWALS=f[3];this.CONTRIB_TOTAL_YEARS=Q+B+u;this.CONTRIB_ANNUAL_ROR_ATAX=z*(1-V);if(t==1){this.CONTRIB_PERIODIC_ROR=z;this.CONTRIB_PERIODIC_ROR_ATAX=this.CONTRIB_ANNUAL_ROR_ATAX}else{this.CONTRIB_PERIODIC_ROR=KJE.ROR_PERIOD(z,t);this.CONTRIB_PERIODIC_ROR_ATAX=KJE.ROR_PERIOD(this.CONTRIB_ANNUAL_ROR_ATAX,t)}this.WITHDRAW_ANNUAL_ROR_ATAX=w*(1-x);if(A==1){this.WITHDRAW_PERIODIC_ROR=w;this.WITHDRAW_PERIODIC_ROR_ATAX=this.WITHDRAW_ANNUAL_ROR_ATAX}else{this.WITHDRAW_PERIODIC_ROR=KJE.ROR_PERIOD(w,A);this.WITHDRAW_PERIODIC_ROR_ATAX=KJE.ROR_PERIOD(this.WITHDRAW_ANNUAL_ROR_ATAX,A)}this.DS_STARTING_BAL=KJE.FloatArray(v+this.CONTRIB_TOTAL_YEARS);this.DS_CONTRIBUTIONS=KJE.FloatArray(v+this.CONTRIB_TOTAL_YEARS);this.DS_WITHDRAWALS=KJE.FloatArray(v+this.CONTRIB_TOTAL_YEARS);this.DS_EARNINGS=KJE.FloatArray(v+this.CONTRIB_TOTAL_YEARS);this.DS_ENDING_BAL=KJE.FloatArray(v+this.CONTRIB_TOTAL_YEARS);var ad=U;var T=g;var S=this.CONTRIB_TAXABLE_INTEREST?this.CONTRIB_PERIODIC_ROR_ATAX:this.CONTRIB_PERIODIC_ROR;var R=this.CONTRIB_TAXABLE_INTEREST?this.CONTRIB_ANNUAL_ROR_ATAX:z;for(var aa=0;aa<this.CONTRIB_TOTAL_YEARS;aa++){if(o){T=(this.IRA_MAXIMUMS.length<=aa?this.IRA_MAXIMUMS[this.IRA_MAXIMUMS.length-1]:this.IRA_MAXIMUMS[aa])+(p+aa<this.IRA_CATCHUP_AGE_START?0:this.IRA_MAXIMUMS_CATCHUP);T/=t;if(aa==0){g=T}}this.DS_STARTING_BAL[aa]=ad;var P=0;var N=0;if(aa>=Q-1&&aa<=(Q+B)-1){var L=0;var ac=0;for(var Z=0;Z<t;Z++){if(!this.CONTRIB_BEGIN_PERIOD){L+=b.round(L*S,2)}L+=T;ac+=T;if(this.CONTRIB_BEGIN_PERIOD){L+=b.round(L*S,2)}}N+=L-ac;P+=ac}N+=b.round(ad*R,2);ad+=N+P;if(ab){T*=1+q}this.CONTRIB_TOTAL_INTEREST+=N;this.CONTRIB_TOTAL_CONTRIBUTIONS+=P;this.DS_CONTRIBUTIONS[aa]=P;this.DS_WITHDRAWALS[aa]=0;this.DS_EARNINGS[aa]=N;this.DS_ENDING_BAL[aa]=ad}if(J==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){I=r;r=KJE.FV_AMT(q,this.CONTRIB_TOTAL_YEARS,r)}this.WITHDRAW_STARTING_BALANCE=ad;S=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_PERIODIC_ROR_ATAX:this.WITHDRAW_PERIODIC_ROR;R=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_ANNUAL_ROR_ATAX:w;var k=0;if(H==KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_PERCENT){k=b.round(this.WITHDRAW_STARTING_BALANCE*n,2)}else{if(H==KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_AMOUNT){if(this.WITHDRAW_PRESERVE_AMOUNT==0||k==0){this.WITHDRAW_PRESERVE_AMOUNT=0;k=0}else{if(this.WITHDRAW_STARTING_BALANCE!=0){n=b.round((k/this.WITHDRAW_STARTING_BALANCE)*100,0)/100}}}}if(H==KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT){this.WITHDRAW_PRESERVE_AMOUNT=0;k=0}else{if(this.WITHDRAW_BEGIN_PERIOD){r=KJE.PMT_BEGIN(S,v*A,this.WITHDRAW_STARTING_BALANCE-k);if(J){r=this.dMaxWithdrawal(this.WITHDRAW_STARTING_BALANCE,r,A)}if(J==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){I=KJE.NPV_AMT(q,this.CONTRIB_TOTAL_YEARS,r)}else{I=r}}else{r=KJE.PMT(S,v*A,this.WITHDRAW_STARTING_BALANCE-k);if(J){r=this.dMaxWithdrawal(this.WITHDRAW_STARTING_BALANCE,r,A)}if(J==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE){I=KJE.NPV_AMT(q,this.CONTRIB_TOTAL_YEARS,r)}else{I=r}}}if(this.WITHDRAW_TAXABLE_WITHDRAWALS&&c){this.WITHDRAW_AMOUNT_AFTERTAX=r;r=r/(1-x)}else{if(this.WITHDRAW_TAXABLE_WITHDRAWALS){this.WITHDRAW_AMOUNT_AFTERTAX=r*(1-x)}else{this.WITHDRAW_AMOUNT_AFTERTAX=r}}var O=r;var a=0;var K=0;var D=0;var G=KJE.ROR_PERIOD(q,A);for(var X=this.CONTRIB_TOTAL_YEARS;X<v+this.CONTRIB_TOTAL_YEARS;X++){this.DS_STARTING_BAL[X]=ad;a=0;K=0;D=0;if(this.ADVANCED_COUNT>0){for(var aa=0;aa<this.ADVANCED_COUNT;aa++){var m=this.CURRENT_YEAR+X;if(m>=this.ADVANCED_YEAR_START[aa]&&m<=this.ADVANCED_YEAR_END[aa]){D+=this.ADVANCED_AMOUNT[aa]}}}for(var h=0;h<A&&ad>0;h++){if(!this.WITHDRAW_BEGIN_PERIOD){K+=b.round(ad*S,2);ad+=b.round(ad*S,2)}if(h==0&&D!=0){a-=D;ad+=D;if(ad<=0){a+=ad;ad=0}}a+=O;ad-=O;if(ad<(O/2)){a+=ad;ad=0}if(J&&this.INFLATION_PER_PERIOD){O*=1+G}if(this.WITHDRAW_BEGIN_PERIOD){K+=b.round(ad*S,2);ad+=b.round(ad*S,2)}if(ad<=0&&this.WITHDRAW_YEARS_TXT==null){this.WITHDRAW_RUNOUT=X-this.CONTRIB_TOTAL_YEARS+1;this.WITHDRAW_RUNOUT_YEARS=X-this.CONTRIB_TOTAL_YEARS;this.WITHDRAW_RUNOUT_PERIODS=h+1;if(this.WITHDRAW_RUNOUT_PERIODS==A){this.WITHDRAW_RUNOUT_PERIODS=0;this.WITHDRAW_RUNOUT_YEARS++}this.WITHDRAW_RUNOUT_FRACTION=this.WITHDRAW_RUNOUT_YEARS+this.WITHDRAW_RUNOUT_PERIODS/A;this.WITHDRAW_YEARS_TXT=b.number(this.WITHDRAW_RUNOUT)+" "+KJE.MSG_YEARS_LBL}}if(J&&!this.INFLATION_PER_PERIOD){O*=1+q}this.WITHDRAW_TOTAL_INTEREST+=K;this.WITHDRAW_TOTAL_WITHDRAWALS+=a;this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX+=this.WITHDRAW_TAXABLE_WITHDRAWALS?a*(1-x):a;if(a>=0){this.DS_CONTRIBUTIONS[X]=0;this.DS_WITHDRAWALS[X]=a}else{this.DS_CONTRIBUTIONS[X]=a*-1;e=true;this.DS_WITHDRAWALS[X]=0}this.DS_EARNINGS[X]=K;this.DS_ENDING_BAL[X]=ad}if(ad>0||this.WITHDRAW_YEARS_TXT==null){this.WITHDRAW_YEARS_TXT=KJE.getTermLabel(this.WITHDRAW_RUNOUT_YEARS+this.WITHDRAW_RUNOUT_PERIODS);this.WITHDRAW_ENDING_BALANCE=ad;this.WITHDRAW_RUNOUT=v;this.WITHDRAW_RUNOUT_YEARS=v;this.WITHDRAW_RUNOUT_FRACTION=v;this.WITHDRAW_RUNOUT_PERIODS=0}this.WITHDRAW_LENGTH_DESC=this.getPaymentLength(this.WITHDRAW_RUNOUT_YEARS,this.WITHDRAW_RUNOUT_PERIODS,this.WITHDRAW_FREQUENCY,false);this.WITHDRAW_RESULT_DESC=KJE.replace("WITHDRAW_AMOUNT_CALC",b.dollars(I,this.iDecimal),KJE.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY],KJE.replace("WITHDRAW_LENGTH_DESC",this.WITHDRAW_LENGTH_DESC,this.MSG_WITHDRAW_RESULT_DESC)));this.TOTAL_INTEREST=this.CONTRIB_TOTAL_INTEREST+this.WITHDRAW_TOTAL_INTEREST;if(M){var y=this.sSchedule;y.clearRepeat();var Y=y.sReportCol("<br />Contributions",3);if(Y=="Withdrawals"){Y="<br />Contributions"}y.addHeader(y.sReportCol("<br />Age",1),y.sReportCol("Starting<br />Balance",2),(g>0||e?Y:null),y.sReportCol("<br />Withdrawals",4),y.sReportCol("Investment<br />Earnings",5),y.sReportCol("Ending<br />Balance",6))}this.DF_BALANCE=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_STARTING_BAL=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_CONTRIBUTIONS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_WITHDRAWALS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.DF_EARNINGS=KJE.FloatArray(this.WITHDRAW_RUNOUT+this.CONTRIB_TOTAL_YEARS+1);this.cats=KJE.FloatArray(this.DF_BALANCE.length);this.DF_BALANCE[0]=(U);this.DF_STARTING_BAL[0]=(U);this.cats[0]=""+(p<=0?this.CURRENT_YEAR:p);for(var W=0;W<this.DF_BALANCE.length-1;W++){this.DF_BALANCE[W+1]=this.DS_ENDING_BAL[W];this.DF_STARTING_BAL[W+1]=this.DS_STARTING_BAL[W];this.DF_WITHDRAWALS[W+1]=this.DS_WITHDRAWALS[W];this.DF_EARNINGS[W+1]=this.DS_EARNINGS[W];this.DF_CONTRIBUTIONS[W+1]=this.DS_CONTRIBUTIONS[W];this.cats[W+1]=""+((p<=0?this.CURRENT_YEAR:p)+W+1);if(M){y.addRepeat(this.cats[W],b.dollars(this.DS_STARTING_BAL[W],this.iDecimal),(g||e>0?b.dollars(this.DS_CONTRIBUTIONS[W],this.iDecimal):null),b.dollars(this.DS_WITHDRAWALS[W],this.iDecimal),b.dollars(this.DS_EARNINGS[W],this.iDecimal),b.dollars(this.DS_ENDING_BAL[W],this.iDecimal))}}this.WITHDRAW_PERSERVATION_PERCENT=n;this.WITHDRAW_REQUIRED_REMAINING_BALANCE=k;this.WITHDRAW_AMOUNT_CALC=I;this.WITHDRAW_AMOUNT=r};KJE.InvestmentAccountCalc.prototype.formatReport=function(f){var g=KJE;var c=this.iDecimal;var h=f;h=KJE.showCode("<QUICK>","</QUICK>",false,h);h=KJE.replace("WITHDRAW_ANNUAL_AMOUNT_AFTERTAX",g.dollars(KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY]*this.WITHDRAW_AMOUNT_AFTERTAX,c),h);h=KJE.replace("WITHDRAW_ANNUAL_AMOUNT",g.dollars(KJE.Default.FREQUENCY_ANNUAL_PERIODS[this.WITHDRAW_FREQUENCY]*this.WITHDRAW_AMOUNT,c),h);h=KJE.replace("WITHDRAW_RESULT_DESC",this.WITHDRAW_RESULT_DESC,h);h=KJE.replace("WITHDRAW_LENGTH_DESC",this.WITHDRAW_LENGTH_DESC,h);h=KJE.replace("WITHDRAW_YEARS_TXT",this.WITHDRAW_YEARS_TXT,h);h=KJE.replace("MSG_CONTRIB_ADJUST_FOR_INFLATION",(this.CONTRIB_ADJUST_FOR_INFLATION?KJE.replace("MSG_INFLATION",g.percent(this.INFLATION_RATE,2),this.MSG_CONTRIB_ADJUST_FOR_INFLATION):""),h);h=KJE.replace("MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS",(this.WITHDRAW_ADJUST_FOR_INFLATION==KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE?this.MSG_WITHDRAW_ADJUST_FOR_INFLATION_FROM_SAVINGS:""),h);h=KJE.replace("MSG_WITHDRAW_ADJUST_FOR_INFLATION",(this.WITHDRAW_ADJUST_FOR_INFLATION?KJE.replace("MSG_INFLATION",g.percent(this.INFLATION_RATE,2),this.MSG_WITHDRAW_ADJUST_FOR_INFLATION):""),h);h=KJE.replace("CONTRIB_STARTING_BALANCE",g.dollars(this.CONTRIB_STARTING_BALANCE,c),h);h=KJE.replace("CONTRIB_AMOUNT",g.dollars(this.CONTRIB_AMOUNT,c),h);h=KJE.replace("CONTRIB_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.CONTRIB_FREQUENCY],h);h=KJE.replace("CONTRIB_ANNUAL_ROR",g.percent(this.CONTRIB_ANNUAL_ROR,2),h);h=KJE.replace("CONTRIB_TAX_RATE",g.percent(this.CONTRIB_TAX_RATE,1),h);h=KJE.replace("CONTRIB_TAXABLE_INTEREST",g.yesno(this.CONTRIB_TAXABLE_INTEREST),h);h=KJE.replace("CONTRIB_TAXABLE_DEPOSITS",g.yesno(this.CONTRIB_TAXABLE_DEPOSITS),h);h=KJE.replace("CONTRIB_TOTAL_INTEREST",g.dollars(this.CONTRIB_TOTAL_INTEREST,c),h);h=KJE.replace("CONTRIB_TOTAL_CONTRIBUTIONS",g.dollars(this.CONTRIB_TOTAL_CONTRIBUTIONS,c),h);h=KJE.replace("CONTRIB_ANNUAL_ROR_ATAX",g.percent(this.CONTRIB_ANNUAL_ROR_ATAX,4),h);h=KJE.replace("CONTRIB_PERIODIC_ROR",g.percent(this.CONTRIB_PERIODIC_ROR,6),h);h=KJE.replace("CONTRIB_PERIODIC_ROR_ATAX",g.percent(this.CONTRIB_PERIODIC_ROR_ATAX,6),h);h=KJE.replace("CONTRIB_ADJUST_FOR_INFLATION",g.yesno(this.CONTRIB_ADJUST_FOR_INFLATION),h);h=KJE.replace("CONTRIB_TOTAL_YEARS",g.number(this.CONTRIB_TOTAL_YEARS),h);h=KJE.replace("CONTRIB_YEARS",g.number(this.CONTRIB_YEARS),h);h=KJE.replace("CONTRIB_YEARS_TO_START",g.number(this.CONTRIB_YEARS_TO_START),h);h=KJE.replace("CONTRIB_YEARS_TO_END",g.number(this.CONTRIB_YEARS_TO_END),h);h=KJE.replace("WITHDRAW_STARTING_BALANCE",g.dollars(this.WITHDRAW_STARTING_BALANCE,c),h);h=KJE.replace("WITHDRAW_YEARS",g.number(this.WITHDRAW_YEARS),h);h=KJE.replace("WITHDRAW_TAX_RATE",g.percent(this.WITHDRAW_TAX_RATE,1),h);h=KJE.replace("WITHDRAW_TYPE",KJE.InvestmentAccountCalc.WITHDRAW_TYPES[this.WITHDRAW_TYPE],h);h=KJE.replace("WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX",g.dollars(this.WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX,c),h);h=KJE.replace("WITHDRAW_AMOUNT_TODAY",g.dollars(this.WITHDRAW_AMOUNT_TODAY,c),h);h=KJE.replace("WITHDRAW_AMOUNT_AFTERTAX",g.dollars(this.WITHDRAW_AMOUNT_AFTERTAX,c),h);h=KJE.replace("WITHDRAW_AMOUNT_CALC",g.dollars(this.WITHDRAW_AMOUNT_CALC,c),h);h=KJE.replace("WITHDRAW_AMOUNT",g.dollars(this.WITHDRAW_AMOUNT,c),h);h=KJE.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY],h);h=KJE.replace("WITHDRAW_ANNUAL_ROR",g.percent(this.WITHDRAW_ANNUAL_ROR,2),h);h=KJE.replace("WITHDRAW_TAXABLE_INTEREST",g.yesno(this.WITHDRAW_TAXABLE_INTEREST?0:1),h);h=KJE.replace("WITHDRAW_TAXABLE_WITHDRAWALS",g.yesno(this.WITHDRAW_TAXABLE_WITHDRAWALS),h);h=KJE.replace("WITHDRAW_REQUIRED_REMAINING_BALANCE",g.dollars(this.WITHDRAW_REQUIRED_REMAINING_BALANCE,c),h);h=KJE.replace("WITHDRAW_ENDING_BALANCE",g.dollars(this.WITHDRAW_ENDING_BALANCE,c),h);h=KJE.replace("WITHDRAW_TOTAL_INTEREST",g.dollars(this.WITHDRAW_TOTAL_INTEREST,c),h);h=KJE.replace("WITHDRAW_TOTAL_WITHDRAWALS",g.dollars(this.WITHDRAW_TOTAL_WITHDRAWALS,c),h);h=KJE.replace("WITHDRAW_PERSERVATION_PERCENT",g.dollars(this.WITHDRAW_PERSERVATION_PERCENT),h);h=KJE.replace("WITHDRAW_ADJUST_FOR_INFLATION",g.yesno(this.WITHDRAW_ADJUST_FOR_INFLATION),h);h=KJE.replace("WITHDRAW_ANNUAL_ROR_ATAX",g.percent(this.WITHDRAW_ANNUAL_ROR_ATAX,4),h);h=KJE.replace("WITHDRAW_PERIODIC_ROR",g.percent(this.WITHDRAW_PERIODIC_ROR,6),h);h=KJE.replace("WITHDRAW_PERIODIC_ROR_ATAX",g.percent(this.WITHDRAW_PERIODIC_ROR_ATAX,6),h);h=KJE.replace("CURRENT_AGE",g.number(this.CURRENT_AGE),h);h=KJE.replace("WITHDRAW_AGE",g.number(this.CURRENT_AGE+this.CONTRIB_TOTAL_YEARS),h);h=KJE.replace("INFLATION_RATE",g.percent(this.INFLATION_RATE,2),h);h=KJE.replace("ACCOUNT_TYPE",KJE.InvestmentAccountCalc.ACCOUNT_TYPES[this.ACCOUNT_TYPE],h);h=KJE.replace("CONTRIBUTE_TO_MAXIMUM",g.yesno(this.CONTRIBUTE_TO_MAXIMUM),h);h=KJE.replace("ACCOUNT_NAME",this.ACCOUNT_NAME,h);h=KJE.replace("TOTAL_INTEREST",g.dollars(this.TOTAL_INTEREST,c),h);h=KJE.replace("MSG_EXTRA_NOTE",this.MSG_EXTRA_NOTE,h);var e="";var b="";var a="";for(var d=0;d<this.ADVANCED_COUNT;d++){if(this.ADVANCED_AMOUNT[d]==0){}else{e=KJE.replace("ADVANCED_YEAR_START",g.input(this.ADVANCED_YEAR_START[d]),((this.ADVANCED_YEAR_START[d]==this.ADVANCED_YEAR_END[d])?this.ADVANCED_TABLE_CONTENT1:this.ADVANCED_TABLE_CONTENT2));e=KJE.replace("ADVANCED_YEAR_END",g.input(this.ADVANCED_YEAR_END[d]),e);e=KJE.replace("ADVANCED_AMOUNT",(this.ADVANCED_AMOUNT[d]>0?"+":"")+g.dollars(this.ADVANCED_AMOUNT[d],c),e);b=KJE.replace("ADVANCED_TABLE_ROW",g.input(d+1),this.ADVANCED_TABLE_ROW);b=KJE.replace("ADVANCED_TABLE_CONTENT",e,b);a+=b}}h=KJE.replace("**ROWCLASS**",this.sRowClass,KJE.replace("<!--ADVANCED_AMOUNT_ROWS-->",a,h));h=h.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return h};KJE.InvestmentAccountCalc.prototype.dMaxWithdrawal=function(a,f,k){var l=this.WITHDRAW_TAXABLE_INTEREST?this.WITHDRAW_PERIODIC_ROR_ATAX:this.WITHDRAW_PERIODIC_ROR;var m=KJE.ROR_PERIOD(this.INFLATION_RATE,k);var q=this.WITHDRAW_ADJUST_FOR_INFLATION&&this.INFLATION_PER_PERIOD;var t=this.WITHDRAW_ADJUST_FOR_INFLATION&&!this.INFLATION_PER_PERIOD;var i=this.WITHDRAW_BEGIN_PERIOD;var u=this.WITHDRAW_YEARS+this.CONTRIB_TOTAL_YEARS;var g=this.CONTRIB_TOTAL_YEARS;var d=this.INFLATION_RATE;var b=f;var c=f/2;var h=0;var e=a;var s=b;for(var o=1;o<50;o++){e=a;s=b;for(var r=g;r<u;r++){for(var p=0;p<k&&e>0;p++){if(!i){e+=KJE.round(e*l,2)}e-=s;if(q){s*=1+m}if(i){e+=KJE.round(e*l,2)}}if(t){s*=1+d}}h=e;if(KJE.round(h,2)==0){return b}else{if(h<0){b-=c}else{b+=c}}c=c/2}return b};KJE.InvestmentAccountCalc.prototype.getPaymentLength=function(f,a,e,c){var b=this.MSG_PERIOD;var d=this.MSG_PERIODS;if(e<KJE.Default.FREQUENCY_TYPES_LBL_PLURAL.length){d=KJE.Default.FREQUENCY_TYPES_LBL_PLURAL[e]}if(e<KJE.Default.FREQUENCY_TYPES_LBL.length){b=KJE.Default.FREQUENCY_TYPES_LBL[e]}return(c||f>0?f+" "+(f>=this.MAX_WITHDRAW_YEARS?this.MSG_PLUS+" ":"")+(f==1?KJE.MSG_YEAR_LBL:KJE.MSG_YEARS_LBL):"")+(c||(f>0&&a>0)?" "+KJE.MSG_AND_LBL+" ":"")+(c||a>0?a+" "+(a==1?b:d):"")};KJE.showCode=function(e,h,d,b){var g=b;if(!d){var c=g.indexOf(e);var a=g.indexOf(h);var f="";while(c>0&&a>c){f+=g.substring(0,c);f+=g.substring(a+h.length);c=g.indexOf(e);a=g.indexOf(h)}g=(f==""?b:f)}g=KJE.replace(e,"",g);g=KJE.replace(h,"",g);return g};KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_PERCENT=0;KJE.InvestmentAccountCalc.WITHDRAW_PRESERVE_AMOUNT=1;KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE=2;KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT=3;KJE.InvestmentAccountCalc.WITHDRAW_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_TYPES",["Principal preservation percent","Principal preservation fix-ed amount","Zero ending balance","periodic amount"]);KJE.InvestmentAccountCalc.WITHDRAW_INDEXES=[0,1,2,3];KJE.InvestmentAccountCalc.WITHDRAW_SHORT_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_SHORT_TYPES",["Maximum withdrawal","Years balance with last"]);KJE.InvestmentAccountCalc.WITHDRAW_SHORT_INDEXES=[KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE,KJE.InvestmentAccountCalc.WITHDRAW_PERIODIC_AMOUNT];KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST=0;KJE.InvestmentAccountCalc.INFLATION_ADJUST=1;KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE=2;KJE.InvestmentAccountCalc.WITHDRAW_INFLATION_TYPES=KJE.parameters.get("ARRAY_WITHDRAW_INFLATION_TYPES",["No adjustment","Adjustments begin with withdrawals","Adjustments begin immediately"]);KJE.InvestmentAccountCalc.WITHDRAW_INFLATION_INDEXES=[KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST_IMMEDIATE];KJE.InvestmentAccountCalc.CONTRIB_INFLATION_TYPES=KJE.parameters.get("ARRAY_CONTRIB_INFLATION_TYPES",["No adjustment","Annually for inflation"]);KJE.InvestmentAccountCalc.CONTRIB_INFLATION_INDEXES=[KJE.InvestmentAccountCalc.INFLATION_NO_ADJUST,KJE.InvestmentAccountCalc.INFLATION_ADJUST];KJE.InvestmentAccountCalc.ACCT_401K=0;KJE.InvestmentAccountCalc.ACCT_TRADITIONAL_IRA=1;KJE.InvestmentAccountCalc.ACCT_ROTH_IRA=2;KJE.InvestmentAccountCalc.ACCT_OTHER_TAX_DEFERRED=3;KJE.InvestmentAccountCalc.ACCT_FIXED_ANNUITIES=4;KJE.InvestmentAccountCalc.ACCT_VARIABLE_ANNUTIES=5;KJE.InvestmentAccountCalc.ACCT_TAX_EXEMPT_BONDS=6;KJE.InvestmentAccountCalc.ACCT_TAX_EXEMPT_MUTUAL_FUNDS=7;KJE.InvestmentAccountCalc.ACCT_OTHER_TAX_EXEMPT=8;KJE.InvestmentAccountCalc.ACCT_LONGTERM_STOCKS=9;KJE.InvestmentAccountCalc.ACCT_SHORTTERM_STOCKS=10;KJE.InvestmentAccountCalc.ACCT_TAXABLE_BONDS=11;KJE.InvestmentAccountCalc.ACCT_SAVINGS_ACCOUNTS=12;KJE.InvestmentAccountCalc.ACCT_STOCK_MUTUAL_FUNDS=13;KJE.InvestmentAccountCalc.ACCT_BOND_MUTUAL_FUNDS=14;KJE.InvestmentAccountCalc.ACCT_MONEY_MARKET=15;KJE.InvestmentAccountCalc.ACCT_SAVINGS_BONDS=16;KJE.InvestmentAccountCalc.ACCT_OTHER_TAXABLE=17;KJE.InvestmentAccountCalc.ACCT_REALESTATE=18;KJE.InvestmentAccountCalc.ACCT_OTHER_FIXED_ASSETS=19;KJE.InvestmentAccountCalc.ACCT_OTHER=20;KJE.InvestmentAccountCalc.ACCOUNT_TYPES=["401(k)s and 403(b)s","Traditional IRAs","ROTH IRAs","Other tax-deferred","Fixed annuities","Variable annuities","Tax-exempt bonds","Tax-exempt mutual funds","Other tax-exempt","Long-term stocks","Short-term stocks","Taxable Bonds","Savings Accounts and CDs","Stock mutual funds","Bond mutual funds","Money market funds","Savings bonds","Other taxable","Real estate","Other fixed assets","Other"];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER=new Array();KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[0]=[false,false,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[1]=[false,false,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[2]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[3]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[4]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[5]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[6]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[7]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[8]=[false,true,false,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[9]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[10]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[11]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[12]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[13]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[14]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[15]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[16]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[17]=[true,true,true,false];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[18]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[19]=[false,true,false,true];KJE.InvestmentAccountCalc.ACCOUNT_DEFAULT_CHARACTER[20]=[true,true,true,true];KJE.InvestmentAccountCalc.WITHDRAW_INDEXES=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];KJE.InvestCompareCalc=function(){this.GROSSUP=false;this.MSG_RESULTS=[KJE.parameters.get("MSG_RESULTS1","Based on your inputs, all three investments produce nearly identical results."),KJE.parameters.get("MSG_RESULTS2","Based on your inputs, the tax-deferred and tax-free investments appear to produce nearly identical results."),KJE.parameters.get("MSG_RESULTS3","Based on your inputs, the ACCOUNT_TYPE investment appears to produce the best result.")];this.MSG_RESULTS_DETAIL=[KJE.parameters.get("MSG_RESULTS_DETAIL1","The taxable, tax-deferred and tax-free investments produce an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT."),KJE.parameters.get("MSG_RESULTS_DETAIL2","The tax-deferred and tax-free investments produce an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT."),KJE.parameters.get("MSG_RESULTS_DETAIL3","The ACCOUNT_TYPE investment produces an after-tax WITHDRAW_FREQUENCY withdrawal of WITHDRAW_AMOUNT.")];this.HIDE_TAX_FREE=KJE.parameters.get("HIDE_TAX_FREE",false);this.WITHDRAW_TAX_RATE=0;this.WITHDRAW_STARTING_BALANCE=0;this.WITHDRAW_TOTAL_WITHDRAWALS=0;this.WITHDRAW_AMOUNT=0;this.WITHDRAW_ANNUAL_ROR=0;this.iDECIMALS=2;this.IA=new Array(3);this.IA[0]=new KJE.InvestmentAccountCalc();this.IA[1]=new KJE.InvestmentAccountCalc();this.IA[2]=new KJE.InvestmentAccountCalc();this.DD_NEW=new Array(4);this.bAfterTax=KJE.parameters.get("AFTER_TAX",false);this.sName=[KJE.parameters.get("MSG_ACCOUNT_TYPE1","Taxable"),KJE.parameters.get("MSG_ACCOUNT_TYPE2","Tax-Deferred"),KJE.parameters.get("MSG_ACCOUNT_TYPE3","Tax-Free")];this.cats2=[KJE.parameters.get("MSG_CAT1","Balance at Withdrawal"),KJE.parameters.get("MSG_CAT2","After-Tax Withdrawal")];this.DD_RESULTS=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);this.DD_WITHDRAW=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);this.cats=null;this.sSchedule=new KJE.Repeating()};KJE.InvestCompareCalc.prototype.clear=function(){this.CONTRIB_YEARS=0;this.CONTRIB_STARTING_BALANCE=0;this.CONTRIB_AMOUNT=0;this.CONTRIB_FREQUENCY=KJE.Default.FREQ_ANNUAL;this.CONTRIB_ANNUAL_ROR=0;this.CONTRIB_TAX_RATE=0;this.WITHDRAW_YEARS=0;this.WITHDRAW_FREQUENCY=KJE.Default.FREQ_ANNUAL};KJE.InvestCompareCalc.prototype.calculate=function(k){var e=KJE;var j=this.IA;var b=this.DD_NEW;var d=this.DD_RESULTS;var f=this.DD_WITHDRAW;this.CONTRIB_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR/100;j[0].clear();this.getDefaultInvestmentAccount(j[0],this.sName[0],this.sName[0],KJE.InvestmentAccountCalc.ACCT_OTHER_TAXABLE,false);j[1].clear();this.getDefaultInvestmentAccount(j[1],this.sName[1],this.sName[1],KJE.InvestmentAccountCalc.ACCT_401K,false);j[2].clear();this.getDefaultInvestmentAccount(j[2],this.sName[2],this.sName[2],KJE.InvestmentAccountCalc.ACCT_ROTH_IRA,this.HIDE_TAX_FREE);var l=0;for(var a=0;a<j.length-(this.HIDE_TAX_FREE?1:0);a++){j[a].calculate();l=Math.round(j[a].DS_ENDING_BAL.length);d[a]=j[a].WITHDRAW_STARTING_BALANCE;f[a]=(j[a].WITHDRAW_TAXABLE_WITHDRAWALS?(j[a].WITHDRAW_AMOUNT*(1-j[a].WITHDRAW_TAX_RATE)):j[a].WITHDRAW_AMOUNT);b[a]=(j[a].DS_ENDING_BAL)}b[3]=KJE.FloatArray(l);for(var h=0;h<b[1].length;h++){b[3][h]=(j[1].WITHDRAW_TAXABLE_WITHDRAWALS?(b[1][h]*(1-j[1].WITHDRAW_TAX_RATE)):b[1][h])}if(k){var g=this.sSchedule;g.clearRepeat();g.addHeader(g.sReportCol("#",1),g.sReportCol("Taxable",2),g.sReportCol("Tax-Deferred",3),(this.HIDE_TAX_FREE?null:g.sReportCol("Tax Free",4)))}this.DS_WITHDRAW=KJE.FloatArray(this.HIDE_TAX_FREE?2:3);var h=0;this.cats=new Array(l);for(var c=1;c<=l;c++){h=c-1;this.cats[h]=""+c;if(k){g.addRepeat(e.number(c),e.dollars(b[0][h],this.iDECIMALS),e.dollars((this.bAfterTax?b[3][h]:b[1][h]),this.iDECIMALS),(this.HIDE_TAX_FREE?null:e.dollars(b[2][h],this.iDECIMALS)))}}};KJE.InvestCompareCalc.prototype.formatReport=function(m){var b=KJE;var l=this.iDECIMALS;var c=m;var j=0;var f=0;var k=this.IA;var h=KJE.FloatArray(3);for(var e=0;e<k.length;e++){h[e]=b.round(k[e].WITHDRAW_AMOUNT_AFTERTAX,0);if(j<h[e]){j=h[e];f=e}}var a="";var g="";if(h[0]==h[1]&&h[1]==h[2]){a=this.MSG_RESULTS_DETAIL[0];g=this.MSG_RESULTS[0]}else{if(h[1]==h[2]){a=this.MSG_RESULTS_DETAIL[1];g=this.MSG_RESULTS[1]}else{a=this.MSG_RESULTS_DETAIL[2];g=this.MSG_RESULTS[2]}}g=KJE.replace("WITHDRAW_AMOUNT",b.dollars(j,0),g);a=KJE.replace("WITHDRAW_AMOUNT",b.dollars(j,0),a);g=KJE.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY].toLowerCase(),g);a=KJE.replace("WITHDRAW_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.WITHDRAW_FREQUENCY].toLowerCase(),a);if(!this.sName[f].trim()==("TFSA")&&!this.sName[f].trim()==("RRSP")){g=KJE.replace("ACCOUNT_TYPE",this.sName[f].toLowerCase(),g);a=KJE.replace("ACCOUNT_TYPE",this.sName[f].toLowerCase(),a)}else{g=KJE.replace("ACCOUNT_TYPE",this.sName[f],g);a=KJE.replace("ACCOUNT_TYPE",this.sName[f],a)}c=KJE.replace("MSG_RESULT_DETAIL",a,c);c=KJE.replace("MSG_RESULT",g,c);c=KJE.replace("<!--SHOW_GROSSUP-->",(this.GROSSUP?"":"<!--"),c);c=KJE.replace("<!--/SHOW_GROSSUP-->",(this.GROSSUP?"":"-->"),c);c=KJE.replace("CONTRIB_YEARS",b.number(this.CONTRIB_YEARS)+" "+(this.CONTRIB_YEARS==1?KJE.MSG_YEAR_LBL:KJE.MSG_YEARS_LBL),c);c=KJE.replace("CONTRIB_STARTING_BALANCE",b.dollars(this.CONTRIB_STARTING_BALANCE,l),c);c=KJE.replace("CONTRIB_FREQUENCY",KJE.Default.FREQUENCY_TYPES[this.CONTRIB_FREQUENCY],c);c=KJE.replace("CONTRIB_ANNUAL_ROR",b.percent(this.CONTRIB_ANNUAL_ROR,2),c);c=KJE.replace("CONTRIB_TAX_RATE",b.percent(this.CONTRIB_TAX_RATE,2),c);c=KJE.replace("WITHDRAW_TAX_RATE",b.percent(this.WITHDRAW_TAX_RATE,2),c);c=KJE.replace("WITHDRAW_YEARS",b.number(this.WITHDRAW_YEARS)+" "+(this.WITHDRAW_YEARS==1?KJE.MSG_YEAR_LBL:KJE.MSG_YEARS_LBL),c);c=KJE.replace("WITHDRAW_ANNUAL_ROR",b.percent(k[0].WITHDRAW_ANNUAL_ROR,2),c);for(var e=0;e<k.length;e++){c=KJE.replace("ACCOUNT_TYPE"+(e+1),this.sName[e],c);c=KJE.replace("WITHDRAW_STARTING_BALANCE"+(e+1),b.dollars(k[e].WITHDRAW_STARTING_BALANCE,l),c);c=KJE.replace("WITHDRAW_TOTAL_WITHDRAWALS"+(e+1),b.dollars(k[e].WITHDRAW_TOTAL_WITHDRAWALS_AFTERTAX,l),c);c=KJE.replace("CONTRIB_AMOUNT"+(e+1),b.dollars(k[e].CONTRIB_AMOUNT,l),c);c=KJE.replace("WITHDRAW_AMOUNT"+(e+1),b.dollars(k[e].WITHDRAW_AMOUNT_AFTERTAX,l),c);c=KJE.replace("WITHDRAW_FREQUENCY"+(e+1),KJE.Default.FREQUENCY_TYPES[k[0].WITHDRAW_FREQUENCY],c)}c=KJE.replace("tfsa","TFSA",c);c=c.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return c};KJE.InvestCompareCalc.prototype.getDefaultInvestmentAccount=function(e,d,c,b,a){e.WITHDRAW_FREQUENCY=this.WITHDRAW_FREQUENCY;e.INFLATION_RATE=0;e.CONTRIBUTE_TO_MAXIMUM=false;e.ACCOUNT_NAME=d;e.ACCOUNT_SHORT_NAME=c;e.iDECIMALS=this.iDECIMALS;if(a){e.CONTRIB_AMOUNT=0}else{if(b==KJE.InvestmentAccountCalc.ACCT_401K&&this.GROSSUP){e.CONTRIB_AMOUNT=this.CONTRIB_AMOUNT/(1-this.CONTRIB_TAX_RATE)}else{e.CONTRIB_AMOUNT=this.CONTRIB_AMOUNT}}e.CONTRIB_STARTING_BALANCE=this.CONTRIB_STARTING_BALANCE;e.CONTRIB_FREQUENCY=this.CONTRIB_FREQUENCY;e.CONTRIB_ADJUST_FOR_INFLATION=false;e.CONTRIB_TAX_RATE=this.CONTRIB_TAX_RATE;e.CONTRIB_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR;e.CONTRIB_YEARS=this.CONTRIB_YEARS;e.CONTRIB_YEARS_TO_START=0;e.CONTRIB_YEARS_TO_END=0;e.CONTRIB_BEGIN_PERIOD=true;e.WITHDRAW_YEARS=this.WITHDRAW_YEARS;e.WITHDRAW_FREQUENCY=this.WITHDRAW_FREQUENCY;e.WITHDRAW_ANNUAL_ROR=this.CONTRIB_ANNUAL_ROR;e.WITHDRAW_TAX_RATE=this.WITHDRAW_TAX_RATE;e.WITHDRAW_TYPE=KJE.InvestmentAccountCalc.WITHDRAW_ZERO_BALANCE;e.WITHDRAW_AMOUNT=0;e.WITHDRAW_REQUIRED_REMAINING_BALANCE=0;e.WITHDRAW_PERSERVATION_PERCENT=0;e.WITHDRAW_ADJUST_FOR_INFLATION=false;e.WITHDRAW_BEGIN_PERIOD=false;e.ACCOUNT_TYPE=b;return e};KJE.CalcName="Taxable vs. Tax Deferred vs. Tax Free Investment";KJE.CalcType="InvestCompare";KJE.CalculatorTitle=KJE.parameters.get("MSG_TITLE_LBL","Taxable vs. Tax Advantaged Investments");KJE.parseInputs=function(b){var a=KJE.getDropBox("WITHDRAW_FREQUENCY",KJE.parameters.get("WITHDRAW_FREQUENCY",KJE.Default.FREQ_ANNUAL),KJE.Default.FREQUENCY_INDEXES,KJE.Default.FREQUENCY_TYPES);b=KJE.replace("**WITHDRAW_FREQUENCY**",a,b);var a=KJE.getDropBox("CONTRIB_FREQUENCY",KJE.parameters.get("CONTRIB_FREQUENCY",KJE.Default.FREQ_ANNUAL),KJE.Default.FREQUENCY_INDEXES,KJE.Default.FREQUENCY_TYPES);b=KJE.replace("**CONTRIB_FREQUENCY**",a,b);return b};KJE.initialize=function(){KJE.CalcControl=new KJE.InvestCompareCalc();KJE.GuiControl=new KJE.InvestCompare(KJE.CalcControl)};KJE.InvestCompare=function(i){var c=KJE;var b=KJE.gLegend;var e=KJE.inputs.items;KJE.NumberSlider("CONTRIB_YEARS","Years to contribute",1,100,0);KJE.DollarSlider("CONTRIB_STARTING_BALANCE","Existing balance",0,1000000000,2,0,4);KJE.DollarSlider("CONTRIB_AMOUNT","New contributions",0,1000000,2,0,2);KJE.InvestRateSlider("CONTRIB_ANNUAL_ROR","Annual rate of return");KJE.PercentSlider("CONTRIB_TAX_RATE","Tax during contributions",0,50,1,1);KJE.PercentSlider("WITHDRAW_TAX_RATE","Tax during withdrawals",0,50,1,1);KJE.NumberSlider("WITHDRAW_YEARS","Years of withdrawals",1,100,0);KJE.DropBox("WITHDRAW_FREQUENCY","Withdrawal frequency");KJE.DropBox("CONTRIB_FREQUENCY","Contribution frequency");KJE.Checkbox("GROSSUP","",false,"Increase tax-deferred contribution by tax deduction savings.");this.WITHDRAW_SAME_TAX=KJE.parameters.get("WITHDRAW_SAME_TAX",false);var f=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH1","KJE1 After-Tax Withdrawal"));f._legend.setVisible(false);f._bPopDetail=true;f._showItemLabel=true;f._showItemLabelOnTop=true;var g=KJE.gNewGraph(KJE.gLINE,"GRAPH2",true,true,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH2","Annual Balance of Accounts"));g._legend._iOrientation=(b.TOP_RIGHT);f._titleXAxis.setText(i.MSG_YEAR_LBL);var a=KJE.parameters.get("MSG_DROPPER_TITLE","Investment contributions and withdrawals:");KJE.addDropper(new KJE.Dropper("INPUTS",true,a,a),KJE.colorList[0]);var j=KJE.parameters.get("MSG_DROPPER2_TITLE","Investment taxes:");var d=KJE.parameters.get("MSG_DROPPER2_CLOSETITLE",e.CONTRIB_TAX_RATE._sLabel+": KJE1 "+e.WITHDRAW_TAX_RATE._sLabel+": KJE2, Increase tax-deferred contributions? KJE3");var h=function(){return j+KJE.subText(KJE.getKJEReplaced(d,e.CONTRIB_TAX_RATE.getFormatted(),e.WITHDRAW_TAX_RATE.getFormatted(),KJE.yesno(i.GROSSUP)),"KJECenter")};KJE.addDropper(new KJE.Dropper("INPUTS2",true,j,h),KJE.colorList[0])};KJE.InvestCompare.prototype.setValues=function(b){var a=KJE.inputs.items;b.CONTRIB_STARTING_BALANCE=a.CONTRIB_STARTING_BALANCE.getValue();b.CONTRIB_AMOUNT=a.CONTRIB_AMOUNT.getValue();b.CONTRIB_FREQUENCY=Math.round(a.CONTRIB_FREQUENCY.getValue());b.CONTRIB_TAX_RATE=a.CONTRIB_TAX_RATE.getValue()/100;b.WITHDRAW_TAX_RATE=(this.WITHDRAW_SAME_TAX?b.CONTRIB_TAX_RATE:a.WITHDRAW_TAX_RATE.getValue()/100);b.WITHDRAW_YEARS=a.WITHDRAW_YEARS.getValue();b.WITHDRAW_FREQUENCY=Math.round(a.WITHDRAW_FREQUENCY.getValue());b.GROSSUP=a.GROSSUP.getValue();b.CONTRIB_ANNUAL_ROR=a.CONTRIB_ANNUAL_ROR.getValue();b.CONTRIB_YEARS=a.CONTRIB_YEARS.getValue();b.WITHDRAW_YEARS=a.WITHDRAW_YEARS.getValue()};KJE.InvestCompare.prototype.refresh=function(f){var e=KJE;var d=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];var c=KJE.gGraphs[1];a.removeAll();a.setTitleTemplate(KJE.Default.FREQUENCY_TYPES_CAP[f.WITHDRAW_FREQUENCY]);a.setGraphCategories(f.sName);a.add(new KJE.gGraphDataSeries(f.DD_WITHDRAW,f.sName[1],a.getColor(2)));a.paint();c.removeAll();c.setGraphCategories(f.cats);c.add(new KJE.gGraphDataSeries(f.DD_NEW[0],f.sName[0],c.getColor(1)));c.add(new KJE.gGraphDataSeries(f.DD_NEW[1],f.sName[1],c.getColor(2)));if(!f.HIDE_TAX_FREE){c.add(new KJE.gGraphDataSeries(f.DD_NEW[2],f.sName[2],c.getColor(3)))}c.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-CONTRIB_ANNUAL_ROR'><input id='KJE-CONTRIB_ANNUAL_ROR' /></div> <div id='KJE-C-CONTRIB_YEARS'><input id='KJE-CONTRIB_YEARS' /></div> <div id='KJE-C-WITHDRAW_YEARS'><input id='KJE-WITHDRAW_YEARS' /></div> <div id='KJE-C-CONTRIB_STARTING_BALANCE'><input id='KJE-CONTRIB_STARTING_BALANCE' /></div> <div id='KJE-C-CONTRIB_AMOUNT'><input id='KJE-CONTRIB_AMOUNT' /></div> <div id='KJE-C-CONTRIB_FREQUENCY'>**CONTRIB_FREQUENCY**</div> <div id='KJE-C-WITHDRAW_FREQUENCY'>**WITHDRAW_FREQUENCY**</div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS2><div id=KJE-P-INPUTS2>Input information:</div></div> <div id=KJE-E-INPUTS2> <div id='KJE-C-CONTRIB_TAX_RATE'><input id='KJE-CONTRIB_TAX_RATE' /></div> <div id='KJE-C-WITHDRAW_TAX_RATE'><input id='KJE-WITHDRAW_TAX_RATE' /></div> <div id='KJE-C-GROSSUP'><input id='KJE-GROSSUP' type=checkbox name='GROSSUP' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** **GRAPH2** ";KJE.DefinitionText=" <div id='KJE-D-CONTRIB_ANNUAL_ROR' ><dt>Annual rate of return</dt><dd>This is the annual rate of return you expect from your investments after taxes. **ROR_DEFINITION**</dd></div> <div id='KJE-D-CONTRIB_YEARS' ><dt>Years to contribute</dt><dd>Number of years you plan on making contributions.</dd></div> <div id='KJE-D-WITHDRAW_YEARS' ><dt>Years of withdraws</dt><dd>Number of years you plan on taking distributions. Enter '1' for a lump sum distribution. All distributions are assumed to happen at the beginning of the period.</dd></div> <div id='KJE-D-CONTRIB_STARTING_BALANCE' ><dt>Existing balance</dt><dd>Any existing balance for the accounts.</dd></div> <div id='KJE-D-CONTRIB_AMOUNT' ><dt>New contributions</dt><dd>Your periodic contribution. All contributions are assumed to happen at the beginning of the period.</dd></div> <div id='KJE-D-CONTRIB_FREQUENCY' ><dt>Contribution frequency</dt><dd>The frequency of your contributions. The options are Monthly, Quarterly, or Annually. All contributions are assumed to be made at the beginning of the period.</dd></div> <div id='KJE-D-WITHDRAW_FREQUENCY' ><dt>Withdrawal frequency</dt><dd>The frequency of your distributions. The options are Monthly, Quarterly or Annually. All distributions are assumed to be taken at the end of the period.</dd></div> <div id='KJE-D-CONTRIB_TAX_RATE' ><dt>Tax during contributions / withdrawals*</dt><dd>Your estimated marginal tax rate. **TAXTABLE_CURRENT_DEFINITION** *Lower maximum tax rates on capital gains and dividends would make the investment return for the taxable investment more favorable, thereby reducing the difference in performance between the hypothetical investments shown. Investors should consider their personal investment horizon and income tax bracket, both current and anticipated, when making an investment decision, as these may further impact the comparison.</dd></div> <div id='KJE-D-WITHDRAW_TAX_RATE' ><dt>Increase tax-deferred contribution by tax deduction savings</dt><dd>If you check this box the calculator will assume contributions to the tax-deferred investment are tax deductible when they are made. The calculator will then increase the contribution amount for the tax-deferred investment by the amount required to make the net contribution equal to the investments that have contributions made on an after-tax basis.</dd></div> ";KJE.ReportText=' <p><!--HEADING "Taxable vs. Tax Advantaged Investments" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>MSG_RESULT</h2> MSG_RESULT_DETAIL Please see the information below for additional details specific to these results. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Results Summary</caption> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder">&nbsp; </th><td class="KJECellStrong KJECellBorder" > ACCOUNT_TYPE1 </td><td class="KJECellStrong KJECellBorder" > ACCOUNT_TYPE2 </td><td class="KJECellStrong" > ACCOUNT_TYPE3 </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell40" >New contributions<br>(over a period of CONTRIB_YEARS) </th><td class="KJECell KJECellBorder KJECell20" > CONTRIB_AMOUNT1<br>CONTRIB_FREQUENCY </td><td class="KJECell KJECellBorder KJECell20" > CONTRIB_AMOUNT2<br>CONTRIB_FREQUENCY<!--SHOW_GROSSUP-->*<!--/SHOW_GROSSUP--> </td><td class="KJECell KJECell20" > CONTRIB_AMOUNT3<br>CONTRIB_FREQUENCY </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" >Balance when withdrawals begin<br> </th><td class="KJECell KJECellBorder" > WITHDRAW_STARTING_BALANCE1 </td><td class="KJECell KJECellBorder" > WITHDRAW_STARTING_BALANCE2 </td><td class="KJECell" > WITHDRAW_STARTING_BALANCE3 </td></tr> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder">After tax withdrawal <br>(over a period of WITHDRAW_YEARS) </th><td class="KJECellStrong KJECellBorder" > WITHDRAW_AMOUNT1<br>WITHDRAW_FREQUENCY1</td><td class="KJECellStrong KJECellBorder" > WITHDRAW_AMOUNT2<br>WITHDRAW_FREQUENCY2</td><td class="KJECellStrong" > WITHDRAW_AMOUNT3<br>WITHDRAW_FREQUENCY3</td></tr> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder">Total withdrawals, after taxes <br> </th><td class="KJECellStrong KJECellBorder" > WITHDRAW_TOTAL_WITHDRAWALS1 </td><td class="KJECellStrong KJECellBorder" > WITHDRAW_TOTAL_WITHDRAWALS2 </td><td class="KJECellStrong" > WITHDRAW_TOTAL_WITHDRAWALS3 </td></tr></table> </div> <!--SHOW_GROSSUP--> <div class="KJEInset"> <p class=KJEFooter>*In this scenario contributions to the tax-deferred investment are tax deductible when they are made. The calculator has increased the contribution amount for the tax-deferred investment by the amount required to make the net contribution equal to the investments that have contributions made on an after-tax basis. </div> <!--/SHOW_GROSSUP--> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Input Summary</caption> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell60">Existing balance </th><td class="KJECell KJECell40"> CONTRIB_STARTING_BALANCE </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder">Annual rate of return </th><td class="KJECell"> CONTRIB_ANNUAL_ROR </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder">Years to contribute </th><td class="KJECell"> CONTRIB_YEARS</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder">Years of withdrawals </th><td class="KJECell"> WITHDRAW_YEARS </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder">Tax rate during contribution period* </th><td class="KJECell"> CONTRIB_TAX_RATE </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder">Tax rate during withdrawal period* </th><td class="KJECell"> WITHDRAW_TAX_RATE </td></tr></table> </div> <div class="KJEInset"> <p>*Lower maximum tax rates on capital gains and dividends would make the investment return for the taxable investment more favorable, thereby reducing the difference in performance between the hypothetical investments shown. Investors should consider their personal investment horizon and income tax bracket, both current and anticipated, when making an investment decision, as these may further impact the comparison. <p>Withdrawals prior to age 59-1/2 on qualified accounts may be subject to a 10% Federal penalty. </div> **GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Balances by Year</h2> **REPEATING GROUP**    / ';